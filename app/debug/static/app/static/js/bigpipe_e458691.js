!function(root){function loadJs(e,t,n){if(t&&loadedRes[e])return void(n&&n());if(t&&loadingRes[e])return void loadingRes[e].push(n);loadingRes[e]=loadingRes[e]||[];var i=d.createElement("script"),a=!1,o=function(){if(!a){if(a=!0,loadedRes[e]=!0,t){for(var i=0;i<loadingRes[e].length;i++)loadingRes[e][i]&&loadingRes[e][i]();loadingRes[e]=null}n&&n()}};i.setAttribute("src",e),i.setAttribute("type","text/javascript"),i.onload=i.onerror=o,i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&o()},head.appendChild(i)}function loadCss(e,t,n){function i(){if(loadedRes[e]=!0,t){for(var i=0;i<loadingRes[e].length;i++)loadingRes[e][i]&&loadingRes[e][i]();loadingRes[e]=null}n()}if(t&&loadedRes[e])return void(n&&n());if(t&&loadingRes[e])return void loadingRes[e].push(n);loadingRes[e]=loadingRes[e]||[];var a=d.createElement("link");a.type="text/css",a.rel="stylesheet",a.href=e,"msie"===browser?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&i()}:"opera"===browser?a.onload=i:!function(){try{a.sheet.cssRule}catch(e){return void setTimeout(arguments.callee,20)}i()}(),head.appendChild(a)}function globalEval(code){var script;code&&(code=code.replace(/^\s+/,"").replace(/\s+$/,""),1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,head.appendChild(script).parentNode.removeChild(script)):eval(code))}function saveLoadedRes(){function e(e){e&&(loadedRes[e]=!0,0===e.indexOf(t)&&(loadedRes[e.replace(t,"")]=!0))}for(var t=window.location.protocol+"//"+window.location.host,n=document.getElementsByTagName("script"),i=document.getElementsByTagName("link"),a=0;a<n.length;a++)e(n[a].src);for(var o=0;o<i.length;o++)e(i[o].href)}function appendStyle(e){var t=document.createElement("style");t.innerHTML=e,head.appendChild(t)}function ajax(e,t,n){var i=new(window.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP");i.onreadystatechange=function(){4==this.readyState&&(200!==this.status?t(this.responseText):t(null,this.responseText))},i.open(n?"POST":"GET",e+"&t="+(new Date).getTime(),!0),n&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(n)}function mixin(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var d=document,head=d.getElementsByTagName("head")[0],loadedRes={},loadingRes={},browser=function(){var e=navigator.userAgent.toLowerCase(),t=/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||!/compatible/.test(e)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(e)||[];return t[1]}(),Util={loadJs:loadJs,loadCss:loadCss,appendStyle:appendStyle,globalEval:globalEval,saveLoadedRes:saveLoadedRes,ajax:ajax,mixin:mixin};root.BigPipeUtil=Util}(this),function(e){function t(e,t,i){var a=[];return n(e,function(e){!e||t&&e.e!==t||i&&e.cb!==i&&e.cb._cb!==i||a.push(e)}),a}function n(e,t){for(var n,i=0,a=e.length;a>i;i++)n=e[i],t.call(n,n,i)}function i(e,t){for(var n,i=-1,a=e.length;++i<a&&(n=e[i],n.cb.apply(n.ctx,t)!==!1););}var a,o=e.BigPipeUtil,r=[].slice;a={on:function(e,t){var n;return n=this._events||(this._events=[]),n.push({e:e,cb:t,id:n.length,ctx:this}),this},once:function(e,t){var n,i=this;return n=function(){return i.off(e,n),t.apply(i,arguments)},n._cb=t,i.on(e,n)},off:function(e,i){var a=this._events;return e||i?(n(t(a,e,i),function(e){delete a[e.id]}),this):(this._events=[],this)},trigger:function(e){var n,a;return this._events&&e?(n=r.call(arguments,1),a=t(this._events,e),i(a,n)):this}},e.BigPipeEvent=o.mixin({mixto:function(e){return o.mixin(e,a)}},a)}(this),function(e){var t=e.BigPipeUtil,n=e.BigPipeEvent,i=function(){function e(e,a){var o=0,r={cssLoaded:!1,finish:function(){c(e)}},s=function(){if(n.push(r),e.css&&e.css.length){o=e.css.length;for(var a=0,s=o;s>a;a++)t.loadCss(e.css[a],i.ignoreDuplicate,function(){--o,0===o&&(r.cssLoaded=!0,l())})}else r.cssLoaded=!0,l()},l=function(){for(var e=n[0];e&&e.cssLoaded;)n.shift(),e.finish(),e=n[0]},c=function(){var n,i,o,r;if(e.styles&&e.styles.length)for(n=0,i=e.styles.length;i>n;n++)t.appendStyle(e.styles[n]);if(o=e.container&&"string"==typeof e.container?document.getElementById(e.container):e.container||document.getElementById(e.id),e.extend)for(r=document.createElement("div"),r.innerHTML=e.html;r.firstChild;)o.appendChild(r.firstChild);else o.innerHTML=e.html;setTimeout(function(){a(e)},0)},d=function(n){var a,o=e.js&&e.js.length,r=o,s=function(){var i,a;if(e.scripts&&e.scripts.length)for(i=0,a=e.scripts.length;a>i;i++)t.globalEval(e.scripts[i]);n&&n(e)};if(!o)return void(s&&s());for(a=0;o>a;a++)t.loadJs(e.js[a],i.ignoreDuplicate,s&&function(){--r||s()})};return{loadCss:s,loadJs:d}}var n=[],a=0,o=[],r=null,s=!1,l={},c=0;return{onPageletArrive:function(n){s||(t.saveLoadedRes(),s=!0),r=n.reqID,this.trigger("pageletarrive",n);var l=new e(n,function(){var e;if(a--,0===a)for(;e=o.shift();)i.trigger("pageletinsert",l,e.pageletData),e.loadJs(function(e){i.trigger("pageletdone",l,e.pageletData)}(e))});l.pageletData=n,o.push(l),a++,l.loadCss()},load:function(e){function n(e){if(void 0===e.reqID||null===e.reqID||e.reqID===h){var t=e.id;v++,g[t]&&(e.container=g[t]),e.extend=a.extend}}var a,o,s,d,u,f=[],p=location.href,g={},h=c++,v=0;for(e instanceof Array?a={pagelets:e}:(a="string"==typeof e?{pagelets:e}:e,e=a.pagelet||a.pagelets,"string"==typeof e&&(e=e.split(/\s*,\s*/))),o=e.length-1;o>=0;o--)s=e[o],f.push("pagelets[]="+s),u=a.container&&a.container[s]||a.container,g[s]=u;if(f.push("reqID="+h),i.on("pageletarrive",n),a.search&&f.push(a.search),a.param&&f.push(a.param),d=a.url?a.url+(-1===a.url.indexOf("?")?"?":"&")+f.join("&"):a.search?"?"+f.join("&"):(location.search?location.search+"&":"?")+f.join("&"),i.on("pageletdone",function(e,t){(void 0===t.reqID||t.reqID===h)&&(v--,0===v&&(i.off("pageletdone",arguments.callee),i.off("pageletarrive",n),a.cb&&a.cb()))}),l[a.cacheID]){var m=l[a.cacheID];h=m.reqID,t.globalEval(m.content)}else t.ajax(d,function(e,n){return e?a.cb&&a.cb(e):void(p===location.href&&(t.globalEval(n),a.cacheID&&(l[a.cacheID]={content:n,reqID:r})))})}}}();n.mixto(i),i.ignoreDuplicate=!0,window.BigPipe=i}(this);